<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main>
        
        <div id="main" class="wrapper">
        </div>
    </main>
    <footer></footer>
    <script>
    var keys = {
        0:{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
        1:{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
        2:{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
        length:3
    }
    var hash = {
        q: 'www.qiniu.com',
        w: 'www.weibo.com',
        e: 'www.ele.me',
        r: 'www.ruby-lang.org',
        t: 'www.taobao.com',
        y: 'www.yy.com',
        u: 'www.uc.cn',
        i: 'www.iqiyi.com',
        o: 'www.oppo.com',
        p: 'www.pptv.com',
        a: 'www.alibaba.com',
        s: 'sm.ms',
        d: 'www.douyu.tv',
        f: 'www.fineui.com',
        g: 'www.google.com.hk',
        h: 'www.huya.com',
        j: 'js.jirengu.com',
        k: 'www.kaikeba.com',
        l: 'lol.qq.com',
        z: 'www.zhihu.com',
        x: 'xiedaimala.com',
        c: 'www.chungold.com',
        v: 'v.qq.com',
        b: 'baidu.com',
        n: 'ncback.win',
        m: 'www.mcdonalds.com.cn'
    }
    //取出localstorage的uuu对应的hash
    var hashInLocalStorage = JSON.parse(localStorage.getItem('uuu')||'null')
    if(hashInLocalStorage){
        hash = hashInLocalStorage
    }

    //遍历keys  生成kbd标签
    index = 0
    while (index < keys['length']){   //0 1  2 
        div = document.createElement('div')
        main.appendChild(div)    
        div.className = 'row'
        row = keys[index] //第一个数组 第二个数组 第三个数组

        index2 = 0
        while(index2<row['length']){
            kbd = document.createElement('kbd')
            span = document.createElement('span')
            span.textContent = row[index2]
            span.className = "text"
            kbd.appendChild(span)
            kbd.className='key'
            
            button = document.createElement('button') //创建编辑按钮
            button.textContent = '编辑'
            button.id = row[index2]
            
            imgXXXXX = document.createElement('img')
            
            if(hash[row[index2]]){
            imgXXXXX.src = 'http://'+hash[row[index2]]+'/favicon.ico'
            }else{
                imgXXXXX.src="//i.loli.net/2017/11/10/5a05afbc5e183.png"
            }
            button.onclick = function(xzkjcnxlkcjlk){
                key = xzkjcnxlkcjlk.target.id  //q w  e r 
                x = prompt('请输入网址')
                hash[key] = x  //hash变更
                localStorage.setItem('uuu',JSON.stringify(hash))
            }
            kbd.appendChild(imgXXXXX)
            kbd.appendChild(button)
            div.appendChild(kbd) 
            index2++                   
        }
        index = index+1
    }
    
    document.onkeypress = function(xzkjcnxlkcjlk){
        key = xzkjcnxlkcjlk['key']  // q w e r
        website = hash[key]
        
        // location.href = 'https://'+website  //模拟用户在地址栏输入
        window.open('http://'+website,'_blank')  //在窗口新打开
    }
    </script>
</body>
</html>